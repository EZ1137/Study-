## API (Application Programming Interface)

> **응용 프로그램 프로그래밍 인터페이스**란 프로그램에서 사용할 수 있도록, 
> **운영체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스**
>
> *" 내가 만든 서비스가*
> *개인 개발자, 기업, 기관이 제공하는 기능, 프로그램을 사용할 수 있게끔*
> *도와주는 중간 매개체 "*

### REST(REpresentational State Transfer)

> **HTTP 기반으로 필요한 자원** *( 저장된 데이터 ( DBMS ) 는 물론,*
> *이미지 / 동영상 / 문서 ( pdf 등 ) 와 같은 파일, 서비스 ( 이메일 전송, 푸쉬 메시지 등 ) 를 모두 포함 )* **에 **
> **접근하는 방식을 정해놓은 아키텍쳐**

### REST의 4가지 속성

> * **REST는 Resource (자원), Method, Message 세 가지로 구성**
>
> 1. 서버에 있는 모든 resource는 각 resource 당 
>    클라이언트가 **바로 접근 할 수 있는 고유 URI**가 존재
> 2. 모든 요청은 클라이언트가 요청할 때마다 필요한 정보를 주기 때문에 
>    **서버에서는 세션 정보를 보관할 필요가 없음**, 
>    서비스의 자유도가 높아지고 유연한 아키텍쳐 적응이 가능
> 3. **HTTP 메소드를 사용**한다는 점
>    모든 resource는 일반적으로 
>    http 인터페이스인 **GET, POST, PUT, DELETE** 4개의 메소드로 
>    접근 되어야 함
> 4. 서비스 내 **하나의 Resource가 **
>    **주변의 연관된 리소스들과 연결되어 표현**이 되어야 함

### URI (Uniform Resource Identifier)

> * **URI는 REST에서 Resource (자원)에 접근 할 때 사용하는 일종의 식별자**
>
> #### URI 설계 규칙
>
> 1. 슬래시 ( / ) 는 계층 관계를 나타낼 때 사용 - 마지막 문자로 ( / ) 포함 X
> 2. Resource의 정보들을 표현하므로 동사보다 명사로 구성
> 3. Resource간의 연관 관계는 이렇게 표현
>    ( 리소스명 / 리소스 ID / 관계가 있는 다른 리소스명 )
> 4. 언더바 ( _ ) 보다는 하이픈 ( - ) 을 권장
> 5. 소문자가 적합 ( URI 스키마와 호스트를 제외하고 대소문자 구별 )
> 6. 파일 확장자를 포함시키지 말 것 ( Accept header를 사용 )

### HTTP 메소드

> **Resource ( 자원 ) 에 접근 시 어떤 성격의 요청인지 알려줌**
>
> * **POST**
>   POST를 통해 해당 URI 요청 시 **Resource 생성**
> * **GET**
>   GET을 통해 해당 **Resource 조회, 해당 document 세부 정보** 가져옴
> * **PUT**
>   PUT을 통해 해당 **Resource 수정**
> * **DELETE**
>   DELETE를 통해 **Resource 삭제**

### Message

> HTTP Header와 Body, 응답 상태 코드로 구성
> Header와 Body에 포함된 메시지는 메시지를 처리하기 위한 충분한 정보를 포함

### Header

> HTTP 바디에 어떤 포맷으로 데이터가 담겼는지 정의
>
> 요청 HTTP 헤더는 ‘Accept’ 항목으로 응답 
> HTTP 헤더는 ‘Content-type’으로 컨텐츠 타입을 설명

### Body

> 자원에 대한 정보를 전달 ( 데이터 포맷 : JSON / XML / 사용자 정의 포맷 )

### 응답 상태 코드

> * **200**
>   클라이언트의 요청을 정상적으로 수행
> * **201**
>   클라이언트의 리소스 생성 요청 ( POST ) 이 성공적으로 수행
> * **301**
>   클라이언트가 요청한 Resource에 대한 URI가 변경됨
> * **400**
>   클라이언트의 요청이 부적절 할 경우 사용
> * **401**
>   인증되지 않은 클라이언트가 보호된 Resource를 요청
>   ( 로그인 하지 않은 유저가 마이페이지 등을 요청 )
> * **403**
>   인증 상태와 무관하게 응답할 수 없는 Resource를 클라이언트가 요청
>   ( 403 보다는 400, 404 사용을 권고 - 403은 Resource의 존재 의미 )
> * **404**
>   클라이언트의 요청 대상을 찾을 수 없음 ( 페이지의 이동 / 삭제 등 )
> * **405**
>   클라이언트가 요청한 Resource에서는 사용 불가능한 메소드 이용
> * **500**
>   서버에 문제가 있을 경우 사용

### REST의 장 / 단점

>* **장점**
>  1. 언어와 플랫폼에 독립적
>  2. SOAP( 다른 통신 방식 ) 보다 개발이 쉽고 단순
>  3. REST가 지원하는 프레임워크나 언어 등 도구들 없이 구현 가능
>  4. 기존 웹 인프라 사용 가능 - HTTP를 그대로 사용
>* **단점**
>  1. HTTP 프로토콜만 사용 가능
>  2. P2p 통신 모델을 가정, 
>     다수를 대상으로 하는 분산환경에 유용하지 않음
>  3. 보안, 정책 등에 대한 표준이 없어 관리가 어려움
>     ( 이 부분을 고려해 구현 시, 설계 / 구현 과정에서 어려움 )

### REST API

> 웹서비스와 특정 기술을 연결해주는 방법으로 
> REST 방식 ( URI 형식으로 request ) 이 쓰이는 것
>
> 웹에서 일반적으로 사용되는 API